<!--
  views/partials/form.ejs - Course Form
  Dynamically handles both course creation and editing.
  If 'editingId' exists, the form will submit to /form/:id (edit mode).
-->
<form method="POST" action="/form<%= editingId ? '/' + editingId : '' %>">
  <div>
    <!-- Course code input field -->
    <label for="coursecode">Course code: </label>
    <input
      type="text"
      id="coursecode"
      name="coursecode"
      value="<%= formdata.coursecode || '' %>"
      required
    />

    <!-- Course name input field -->
    <label for="coursename">Course name: </label>
    <input
      type="text"
      id="coursename"
      name="coursename"
      value="<%= formdata.coursename || '' %>"
      required
    />

    <!-- Syllabus input field -->
    <label for="syllabus">Syllabus: </label>
    <input
      type="text"
      id="syllabus"
      name="syllabus"
      value="<%= formdata.syllabus || '' %>"
      required
    />

    <!-- Dropdown to select course progression level (Aâ€“C) -->
    <label for="progression">Progression:</label>
        <select id="progression" name="progression" required>
        <option value="">Select the course progression</option>
        <option value="A" <%= formdata.progression === "A" ? "selected" : "" %>>A</option>
        <option value="B" <%= formdata.progression === "B" ? "selected" : "" %>>B</option>
        <option value="C" <%= formdata.progression === "C" ? "selected" : "" %>>C</option>
        </select>
        <br/>
    <div class="form-buttons">
    <!-- If editing, show Cancel button to return to empty form -->
    <% if (editingId) { %>
      <a href="/" class="btn cancel">Cancel</a>
    <% } %>
    <!-- Submit button label depends on edit mode -->
    <input type="submit" value="<%= editingId ? 'Save changes' : 'Store' %>" />
    </div>
  </div>
</form>

  <!-- Optional flash message (success or error) -->
  <%- include('../partials/messages') %>
